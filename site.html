<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cripto Dashboard</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap');

        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #101823;
            color: #fff;
        }
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
        }
        .profile {
            display: flex;
            align-items: center;
        }
        .profile img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
        }
        .username {
            margin-left: 10px;
            font-size: 18px;
            font-weight: bold;
        }
        .notification img {
            width: 40px;
            height: 40px;
        }
        .balance {
            margin: 20px;
            font-size: 36px;
            font-weight: bold;
        }
        .actions {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        .action {
            text-align: center;
        }
        .action img {
            width: 40px;
            height: 40px;
            background-color: #F30100;
            border-radius: 50%;
            padding: 10px;
        }
        .action span {
            display: block;
            margin-top: 5px;
            font-size: 14px;
        }
        .search-bar {
            display: flex;
            align-items: center;
            background-color: #1e2430;
            padding: 10px 20px;
            border-radius: 10px;
            margin: 20px;
        }
        .search-bar input {
            flex: 1;
            background-color: transparent;
            border: none;
            outline: none;
            color: #fff;
            font-size: 16px;
            padding: 5px;
        }
        .search-bar img {
            width: 25px;
            height: 25px;
            margin-left: 10px;
        }
        .currency-selector {
            display: flex;
            justify-content: center;
            margin: 20px;
        }
        .currency-selector select {
            background-color: #1e2430;
            color: #fff;
            border: 1px solid #2a2f35;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 16px;
        }
        .cryptos {
            margin: 20px;
            padding: 20px;
            background-color: #1e2430;
            border-radius: 10px;
            overflow-y: auto;
            max-height: 400px;
        }
        .crypto-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            border-bottom: 1px solid #2a2f35;
            padding-bottom: 10px;
        }
        .crypto-item:last-child {
            border-bottom: none;
        }
        .crypto-item img {
            width: 30px;
            height: 30px;
            margin-right: 10px;
        }
        .prices {
            text-align: right;
        }
        .prices div {
            margin: 2px 0;
        }
        .change {
            display: flex;
            align-items: center;
            gap: 5px;
            font-family: 'Roboto', sans-serif;
            font-weight: 500;
            font-size: 15px;
        }
        .up {
            color: #4ABE6B;
        }
        .down {
            color: #F32941;
        }
        .value {
            font-family: 'Roboto', sans-serif;
            font-weight: 500;
            font-size: 17px;
        }
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }
        .pagination button {
            background-color: transparent;
            color: #fff;
            border: none;
            padding: 10px;
            margin: 0 10px;
            cursor: pointer;
            font-size: 30px;
        }
        .pagination button:hover {
            color: #ccc;
        }
        .page-info {
            color: #fff;
            font-size: 16px;
            margin: 0 10px;
        }
        .filter-button {
            background-color: #1e2430;
            color: #fff;
            border: 1px solid #2a2f35;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 16px;
            position: relative;
        }
        .filter-options {
            position: absolute;
            top: 100%;
            left: 0;
            background-color: #1e2430;
            border-radius: 10px;
            padding: 10px;
            width: 100%;
            display: none;
        }
        .filter-options button {
            background-color: transparent;
            color: #fff;
            border: 1px solid #2a2f35;
            padding: 10px;
            border-radius: 10px;
            width: 100%;
            cursor: pointer;
            margin: 5px 0;
        }
        .filter-options button:hover {
            background-color: #4ABE6B;
        }
        .filter-button.active .filter-options {
            display: block;
        }
        .content {
    margin-bottom: 80px; /* Ajuste para um valor que deixe a seta visível */
}

           /* Rodapé */
/* Rodapé 
*/
html, body {
    min-height: 100vh;
    position: relative;
}

.footer {
    position: fixed;
    bottom: 0;
    width: 100%;
    background-color: #1E2430;
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 15px 0;
    border-radius: 15px 15px 0 0;
    box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.2);
}


.footer {
    position: relative;
}


.footer-item {
    text-align: center;
    color: #FFF;
    font-size: 14px;
    transition: color 0.3s, transform 0.3s;
    cursor: pointer;
}

.footer-item img {
    width: 50px;
    height: 50px;
    margin-bottom: 5px;
    transition: transform 0.3s, filter 0.3s;
}

.footer-item.active {
    color: #FFF;
}

.footer-item:hover {
    color: #F30100;
    transform: scale(1.1);
}
.container {
    padding-bottom: 80px;
}

.footer-item:hover img {
    transform: scale(1.2);
    filter: brightness(1.2);
}

.footer-center {
    background-color: #F30100;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s;
}

.footer-center img {
    width: 40px;
    height: 40px;
}

.footer-center:hover {
    transform: scale(1.2);
}

    </style>
</head>
<body>
    <div class="header">
        <div class="profile">
            <img src="tt.png" alt="User">
            <span class="username">vasplink.cd.id</span>
        </div>
        <div class="notification">
            <img src="sino.png" alt="Notification">
        </div>
    </div>

    <div class="balance" id="balance">R$ 00.00</div>

    <div class="actions">
        <div class="action">
            <img src="buy.png" alt="Buy">
            <span>Buy</span>
        </div>
        <div class="action">
            <img src="retorno.png" alt="Swap">
            <span>Swap</span>
        </div>
        <div class="action">
            <img src="hat.png" alt="Bridge">
            <span>Bridge</span>
        </div>
        <div class="action">
            <img src="transferência.png" alt="Transfer">
            <span>Transfer</span>
        </div>
    </div>

    <div class="filter-button" onclick="toggleFilter()">
        Filtrar
        <div class="filter-options">
            <button onclick="filterByCategory('all')">Todas</button>
            <button onclick="filterByCategory('top')">Mais Valorizadas</button>
            <button onclick="filterByCategory('popular')">Populares</button>
        </div>
    </div>

    <div class="search-bar">
        <input type="text" id="search" placeholder="Pesquisar criptomoeda..." oninput="filterCryptos()">
        <img src="search.png" alt="Search">
    </div>

    <div class="currency-selector">
        <select id="currency" onchange="changeCurrency()">
            <option value="usd">USD ($)</option>
            <option value="brl">BRL (R$)</option>
            <option value="eur">EUR (€)</option>
        </select>
    </div>

    <div class="cryptos" id="crypto-list">
        <!-- Criptomoedas serão carregadas aqui -->
    </div>

    <div class="pagination">
        <button id="prevPage" onclick="changePage('prev')">&#x21E6;</button>
        <span class="page-info" id="page-info">1/10</span>
        <button id="nextPage" onclick="changePage('next')">&#x21E8;</button>
    </div>
     <div class="footer">
        <div class="footer-item active">
            <img src="casa1.png" alt="Market">
            <div>home</div>
        </div>
        <div class="footer-item">
            <img src="icone2.png" alt="Square">
            <div>markets</div>
        </div>
        <div class="footer-center">
            <img src="swap.png" alt="Swap">
        </div>
        <div class="footer-item">
            <img src="bu.png" alt="Discover">
            <div>Discover</div>
        </div>
        <div class="footer-item">
            <img src="mala.png" alt="Portfolio">
            <div>Portfolio</div>
        </div>
    </div>

    <script>
        function abrirGrafico(cryptoId) {
        window.location.href = `grafico.html?moeda=${cryptoId}`;
    }
        
        let allCryptos = []; // Array para armazenar todas as criptomoedas
        let filteredCryptos = [];
        let currentCurrency = 'usd'; // Moeda padrão
        let currentPage = 1;
        const itemsPerPage = 10;

        // Função para buscar as criptomoedas
        async function fetchAllCryptos() {
            try {
                const response = await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=${currentCurrency}&order=market_cap_desc&per_page=250&page=1`);
                const data = await response.json();
                allCryptos = data.map(crypto => ({
                    id: crypto.id,
                    name: crypto.name,
                    image: crypto.image,
                    price: crypto.current_price,
                    price_change: crypto.price_change_percentage_24h
                }));
                filteredCryptos = allCryptos;
                renderCryptos();
            } catch (error) {
                console.error('Erro ao carregar as criptomoedas:', error);
            }
        }

        // Função para formatar os números com base na moeda selecionada
        function formatCurrency(value) {
            let currencySymbol = '';

            // Define o símbolo da moeda com base na moeda selecionada
            switch (currentCurrency) {
                case 'usd':
                    currencySymbol = '$';
                    break;
                case 'brl':
                    currencySymbol = 'R$';
                    break;
                case 'eur':
                    currencySymbol = '€';
                    break;
                default:
                    currencySymbol = '$';
            }

            // Formata o número para o estilo de moeda correto
            return value.toLocaleString('pt-BR', { style: 'currency', currency: currentCurrency }).replace(currencySymbol, currencySymbol + ' ').replace(',', '.');
        }

        // Função para renderizar as criptomoedas
        function renderCryptos() {
            const cryptoList = document.getElementById('crypto-list');
            cryptoList.innerHTML = '';

            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageCryptos = filteredCryptos.slice(start, end);

            pageCryptos.forEach(crypto => {
                const changeClass = crypto.price_change >= 0 ? 'up' : 'down';
                const changeIcon = crypto.price_change >= 0 ? '▲' : '▼';

                const cryptoItem = document.createElement('div');
                cryptoItem.classList.add('crypto-item');
                cryptoItem.innerHTML = `
                    <div class="crypto-info">
                        <img src="${crypto.image}" alt="${crypto.name}">
                        <span>${crypto.name}</span>
                    </div>
                    <div class="prices">
                        <div class="value">${formatCurrency(crypto.price)}</div>
                        <div class="change ${changeClass}">
                            <span>${changeIcon} ${crypto.price_change.toFixed(2)}%</span>
                        </div>
                    </div>
                `;
                cryptoList.appendChild(cryptoItem);
            });

            document.getElementById('page-info').innerText = `${currentPage}/${Math.ceil(filteredCryptos.length / itemsPerPage)}`;
        }

        // Função para alterar a moeda de conversão
        function changeCurrency() {
            currentCurrency = document.getElementById('currency').value;
            fetchAllCryptos();
        }

        // Função para filtrar criptomoedas
        function filterCryptos() {
            const query = document.getElementById('search').value.toLowerCase();
            filteredCryptos = allCryptos.filter(crypto => crypto.name.toLowerCase().includes(query));
            currentPage = 1; // Resetar para a primeira página
            renderCryptos();
        }

        // Função para filtrar por categoria
        function filterByCategory(category) {
            const buttons = document.querySelectorAll('.filter-options button');
            buttons.forEach(button => button.style.backgroundColor = '#1e2430');

            if (category === 'top') {
                filteredCryptos = allCryptos.sort((a, b) => b.price_change - a.price_change);
            } else if (category === 'popular') {
                filteredCryptos = allCryptos.sort((a, b) => b.market_cap - a.market_cap);
            } else {
                filteredCryptos = allCryptos;
            }

            document.querySelector(`button[onclick="filterByCategory('${category}')"]`).style.backgroundColor = '#4ABE6B';
            currentPage = 1;
            renderCryptos();
        }

        // Função para alternar o filtro
        function toggleFilter() {
            document.querySelector('.filter-button').classList.toggle('active');
        }

        // Função para mudar de página
        function changePage(direction) {
            if (direction === 'next' && currentPage < Math.ceil(filteredCryptos.length / itemsPerPage)) {
                currentPage++;
            } else if (direction === 'prev' && currentPage > 1) {
                currentPage--;
            }
            renderCryptos();
            document.getElementById('crypto-list').scrollTop = 0;
        }

        fetchAllCryptos();
        
    </script>
</body>
</html>

